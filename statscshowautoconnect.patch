# HG changeset patch
# Parent 3efd8b20784aeeb1756039b6245489711d04da3d

Show auto connect setting in STATS connect.

diff -r 3efd8b20784a ircd/s_err.c
--- a/ircd/s_err.c
+++ b/ircd/s_err.c
@@ -458,7 +458,7 @@
 /* 212 */
   { RPL_STATSCOMMANDS, "%s %u %u", "212" },
 /* 213 */
-  { RPL_STATSCLINE, "C %s %s %s %d %s %d %s %s", "213" },
+  { RPL_STATSCLINE, "C %s %c %s %s %d %s %d %s %s", "213" },
 /* 214 */
   { 0 },
 /* 215 */
diff -r 3efd8b20784a ircd/s_stats.c
--- a/ircd/s_stats.c
+++ b/ircd/s_stats.c
@@ -129,6 +129,7 @@
 	send_reply(sptr, RPL_STATSULINE, host);
       else if (tmp->status & CONF_SERVER)
 	send_reply(sptr, RPL_STATSCLINE, name,
+	           (tmp->flags & CONF_AUTOCONNECT) ? '+' : '-',
 	           unmask ? origin : "*",
 	           unmask ? host : "*", port,
 	           unmask ? pass : "*", maximum,
